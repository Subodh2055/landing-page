<div class="product-card">
  <!-- Product Image Section -->
  <div class="product-image">
    <img [src]="product.getImageUrl()" [alt]="product.name" class="img-fluid" (error)="onImageError($event)">
    <div class="product-overlay">
      <!-- Stock Badge -->
      <div class="stock-badge" [class.in-stock]="product.isInStock()" [class.out-of-stock]="!product.isInStock()">
        <i class="fas" [class.fa-check-circle]="product.isInStock()" [class.fa-times-circle]="!product.isInStock()"></i>
        {{ product.getStockStatus() }}
      </div>
      
      <!-- Role Badge for Admin Products -->
      <div class="role-badge" *ngIf="product.role === 'admin'">
        <i class="fas fa-crown"></i>
        Admin
      </div>
      
      <!-- Quick Actions -->
      <div class="quick-actions">
        <button class="action-btn wishlist-btn" (click)="toggleWishlist()" [class.active]="isInWishlist">
          <i class="fas fa-heart"></i>
        </button>
        <button class="action-btn quick-view-btn" (click)="quickView()">
          <i class="fas fa-eye"></i>
        </button>
      </div>
    </div>
  </div>
  
  <!-- Product Content -->
  <div class="product-content">
    <!-- Product Header -->
    <div class="product-header">
      <h5 class="product-title">{{ product.name }}</h5>
      <div class="product-rating" *ngIf="product.rating > 0">
        <div class="stars">
          <span class="star" *ngFor="let star of getStars()" [class.filled]="star.filled">
            <i class="fas fa-star"></i>
          </span>
        </div>
        <span class="rating-text">({{ product.getFormattedRating() }})</span>
        <span class="reviews-count">({{ product.reviews }} reviews)</span>
      </div>
    </div>
    
    <!-- Product Description -->
    <p class="product-description">{{ product.description }}</p>
    
    <!-- Product Meta -->
    <div class="product-meta">
      <div class="category-badge">
        <i class="fas fa-tag"></i>
        {{ product.category }}
      </div>
      <div class="stock-info">
        <i class="fas fa-boxes"></i>
        {{ product.stock }} units
      </div>
    </div>
    
    <!-- Product Price -->
    <div class="product-price-section">
      <div class="price-main">{{ product.getFormattedPrice() }}</div>
      <div class="price-original" *ngIf="product.originalPrice && product.originalPrice > product.price">
        <span class="original-price">${{ product.originalPrice.toFixed(2) }}</span>
        <span class="discount-badge">
          {{ getDiscountPercentage() }}% OFF
        </span>
      </div>
    </div>
    
    <!-- Product Actions -->
    <div class="product-actions">
      <button class="btn btn-primary add-to-cart-btn" 
              [disabled]="!product.isInStock()" 
              (click)="addToCart()">
        <i class="fas fa-shopping-cart"></i>
        {{ product.isInStock() ? 'Add to Cart' : 'Out of Stock' }}
      </button>
      
      <button class="btn btn-outline-secondary buy-now-btn" 
              [disabled]="!product.isInStock()" 
              (click)="buyNow()">
        <i class="fas fa-bolt"></i>
        Buy Now
      </button>
    </div>
    
    <!-- Admin Actions (if user is admin) -->
    <div class="admin-actions" *ngIf="isAdmin">
      <button class="btn btn-sm btn-warning edit-btn" (click)="editProduct()">
        <i class="fas fa-edit"></i>
        Edit
      </button>
      <button class="btn btn-sm btn-danger delete-btn" (click)="deleteProduct()">
        <i class="fas fa-trash"></i>
        Delete
      </button>
    </div>
  </div>
</div>
