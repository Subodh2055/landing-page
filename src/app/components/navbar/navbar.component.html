<!-- Modern Glassmorphism Navbar with FontAwesome Icons -->
<nav class="navbar-modern" [class.scrolled]="isScrolled"> 
  <div class="container">
    <!-- Brand Logo -->
    <div class="brand-container">
      <a routerLink="/products" class="brand-link">
        <div class="brand-icon">
          <i class="fas fa-shopping-bag"></i>
        </div>
        <span class="brand-text">ProductHub</span>
      </a>
    </div>

    <!-- Desktop Navigation -->
    <div class="desktop-nav d-none d-lg-flex">
      <!-- Cart Icon with Badge -->
      <button 
        class="cart-btn" 
        routerLink="/cart" 
        title="Shopping Cart">
        <i class="fas fa-shopping-cart"></i>
        <span *ngIf="cartItemCount > 0" class="cart-badge">{{ cartItemCount }}</span>
      </button>
      
      <!-- Guest Actions -->
      <div *ngIf="!isAuthenticated()" class="guest-actions">
        <button 
          class="login-btn"
          routerLink="/login">
          <i class="fas fa-sign-in-alt"></i>
          <span>Login</span>
        </button>
        <button 
          class="register-btn"
          routerLink="/register">
          <i class="fas fa-user-plus"></i>
          <span>Register</span>
        </button>
      </div>
      
      <!-- User Actions -->
      <div *ngIf="isAuthenticated()" class="user-actions">
        <!-- Splash Screen Button -->
        <button 
          class="splash-btn"
          (click)="showSplashScreen()"
          title="Show Splash Screen">
          <i class="fas fa-play"></i>
          <span>Splash</span>
        </button>
        
        <!-- Admin Button -->
        <button 
          *ngIf="hasRole('admin')"
          class="admin-btn"
          routerLink="/admin">
          <i class="fas fa-cog"></i>
          <span>Admin</span>
        </button>
        
        <!-- User Menu -->
        <div class="user-menu-container">
          <button 
            class="user-menu-btn"
            (click)="toggleUserMenu()">
            <div class="user-avatar">
              <span>{{ getUserInitials() }}</span>
            </div>
            <span class="user-name">{{ currentUser?.username }}</span>
            <i class="fas fa-chevron-down"></i>
          </button>
          
          <!-- User Dropdown Menu -->
          <div class="user-dropdown-menu" *ngIf="showUserMenu">
            <div class="dropdown-item">
              <i class="fas fa-user"></i>
              <span>Profile</span>
            </div>
            <div class="dropdown-item">
              <i class="fas fa-cog"></i>
              <span>Settings</span>
            </div>
            <div class="dropdown-divider"></div>
            <div class="dropdown-item" (click)="logout()">
              <i class="fas fa-sign-out-alt"></i>
              <span>Logout</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Mobile Actions -->
    <div class="mobile-actions d-lg-none">
      <!-- Cart Icon -->
      <button 
        class="mobile-cart-btn"
        routerLink="/cart"
        title="Shopping Cart">
        <i class="fas fa-shopping-cart"></i>
        <span *ngIf="cartItemCount > 0" class="cart-badge">{{ cartItemCount }}</span>
      </button>
      
      <!-- Guest Mobile Actions -->
      <button 
        *ngIf="!isAuthenticated()"
        class="mobile-login-btn"
        routerLink="/login"
        title="Login">
        <i class="fas fa-sign-in-alt"></i>
      </button>
      
      <!-- User Mobile Actions -->
      <button 
        *ngIf="isAuthenticated() && hasRole('admin')"
        class="mobile-admin-btn"
        routerLink="/admin"
        title="Admin Panel">
        <i class="fas fa-cog"></i>
      </button>
      
      <!-- Mobile User Menu -->
      <div *ngIf="isAuthenticated()" class="mobile-user-menu">
        <button 
          class="mobile-user-btn"
          (click)="toggleMobileUserMenu()"
          title="User Menu">
          <div class="mobile-user-avatar">
            <span>{{ getUserInitials() }}</span>
          </div>
        </button>
        
        <!-- Mobile User Dropdown -->
        <div class="mobile-user-dropdown" *ngIf="showMobileUserMenu">
          <div class="mobile-user-header">
            <div class="mobile-user-info">
              <div class="mobile-user-name">{{ currentUser?.username }}</div>
              <div class="mobile-user-role">{{ currentUser?.role }}</div>
            </div>
            <button class="mobile-close-btn" (click)="toggleMobileUserMenu()">
              <i class="fas fa-times"></i>
            </button>
          </div>
          <div class="dropdown-divider"></div>
          <div class="dropdown-item">
            <i class="fas fa-user"></i>
            <span>Profile</span>
          </div>
          <div class="dropdown-item">
            <i class="fas fa-cog"></i>
            <span>Settings</span>
          </div>
          <div class="dropdown-divider"></div>
          <div class="dropdown-item" (click)="logout()">
            <i class="fas fa-sign-out-alt"></i>
            <span>Logout</span>
          </div>
        </div>
      </div>
      
      <!-- Mobile Menu Button -->
      <button 
        class="mobile-menu-btn"
        (click)="onMobileFilterToggle()" 
        title="Toggle mobile menu">
        <i class="fas fa-bars"></i>
      </button>
    </div>
  </div>
</nav>
